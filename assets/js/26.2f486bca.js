(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{369:function(s,a,t){s.exports=t.p+"assets/img/docker_setting.311ae718.png"},370:function(s,a,t){s.exports=t.p+"assets/img/2023-06-06_36.58d244e9.png"},467:function(s,a,t){"use strict";t.r(a);var e=t(3),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),a("h2",{attrs:{id:"_1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装"}},[s._v("#")]),s._v(" 1. 安装")]),s._v(" "),a("h3",{attrs:{id:"_1-1-windows-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-windows-安装"}},[s._v("#")]),s._v(" 1.1. Windows 安装")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("下载安装 "),a("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker🔗"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("更换国内源")]),s._v(" "),a("blockquote",[a("p",[s._v('在 Docker Seting 中修改 Doker Engine 的配置文件，在"registry-mirrors"配置中添加国内镜像，比如使用官方中国区'),a("code",[s._v("https://registry.docker-cn.com")])])]),s._v(" "),a("img",{attrs:{src:t(369)}})])]),s._v(" "),a("h3",{attrs:{id:"_1-2-linux-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-linux-安装"}},[s._v("#")]),s._v(" 1.2. Linux 安装")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安装 docker")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方安装脚本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fsSL")]),s._v(" https://get.docker.com "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--mirror")]),s._v(" Aliyun\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("使用 "),a("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/",target:"_blank",rel:"noopener noreferrer"}},[s._v("清华源方法🔗"),a("OutboundLink")],1)])])]),s._v(" "),a("h2",{attrs:{id:"_2-配置使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置使用"}},[s._v("#")]),s._v(" 2. 配置使用")]),s._v(" "),a("h3",{attrs:{id:"_2-1-docker-架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-docker-架构"}},[s._v("#")]),s._v(" 2.1. docker 架构")]),s._v(" "),a("ol",[a("li",[s._v("镜像 images: 相当于一个 root 文件系统")]),s._v(" "),a("li",[s._v("容器 container: 是镜像的运行时的实体，可以被创建、启动、停止、删除")]),s._v(" "),a("li",[s._v("仓库 repository: 可以看成代码控制中心，用来存储镜像")])]),s._v(" "),a("h3",{attrs:{id:"_2-2-docker-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-docker-使用"}},[s._v("#")]),s._v(" 2.2. docker 使用")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("拉取（下载）容器")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动下载最新的 ubuntu")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以指定版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu:20.04\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建并进入容器 ubuntu")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建并进入容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" ubuntu1 ubuntu:18.04 /bin/bash\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入已创建好的容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" CONTAINER_ID /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("常用命令")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("命令")]),s._v(" "),a("th",[s._v("功能")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("docker -v  或  docker version")]),s._v(" "),a("td",[s._v("查看 docker 版本命令")])]),s._v(" "),a("tr",[a("td",[s._v("docker start [container_name]")]),s._v(" "),a("td",[s._v("运行容器")])]),s._v(" "),a("tr",[a("td",[s._v("docker attach [container_id]")]),s._v(" "),a("td",[s._v("进入容器")])]),s._v(" "),a("tr",[a("td",[s._v("docker exec -it [container_name] /bin/sh")]),s._v(" "),a("td",[s._v("在容器中开启一个交互模式的终端")])]),s._v(" "),a("tr",[a("td",[s._v("docker restart [container_id]")]),s._v(" "),a("td",[s._v("重启容器")])]),s._v(" "),a("tr",[a("td",[s._v("docker rm [container_name]")]),s._v(" "),a("td",[s._v("删除容器")])]),s._v(" "),a("tr",[a("td",[s._v("docker images 或 docker image ls")]),s._v(" "),a("td",[s._v("显示已抽取的镜像")])]),s._v(" "),a("tr",[a("td",[s._v("docker ps")]),s._v(" "),a("td",[s._v("显示运行中的镜像")])]),s._v(" "),a("tr",[a("td",[s._v("docker ps -a")]),s._v(" "),a("td",[s._v("显示所有镜像")])]),s._v(" "),a("tr",[a("td",[s._v("exit")]),s._v(" "),a("td",[s._v("退出容器")])])])])]),s._v(" "),a("li",[a("p",[s._v("安装 wget")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("容器自启动")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先查询容器 id")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将容器 id 放入自启动，可以同时放多个容器 id")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always 容器 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("文件拷贝")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从本地拷贝到容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" file_path CONTAINER_ID:path\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从容器拷贝到本地")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" CONTAINER_ID:path file_path\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-3-docker-安装-python-环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-docker-安装-python-环境"}},[s._v("#")]),s._v(" 2.3. docker 安装 python 环境")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("下拉 python 环境")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull python:3.10.11\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(370),alt:"图 1"}})])]),s._v(" "),a("li",[a("p",[s._v("生成容器并进入")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成 py310 容器并进入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" py310 python:3.10.11 /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-4-容器打包成镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-容器打包成镜像"}},[s._v("#")]),s._v(" 2.4. 容器打包成镜像")])])}),[],!1,null,null,null);a.default=r.exports}}]);