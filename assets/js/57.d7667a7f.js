(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{418:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_12-word2vec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-word2vec"}},[s._v("#")]),s._v(" 12. Word2Vec")]),s._v(" "),t("h2",{attrs:{id:"_1-ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç®€ä»‹"}},[s._v("#")]),s._v(" 1. ç®€ä»‹")]),s._v(" "),t("h2",{attrs:{id:"_2-åº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-åº”ç”¨"}},[s._v("#")]),s._v(" 2. åº”ç”¨")]),s._v(" "),t("h3",{attrs:{id:"_2-1-å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-å®‰è£…"}},[s._v("#")]),s._v(" 2.1. å®‰è£…")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("å®‰è£…"),t("code",[s._v("gensim")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gensim\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("ä¸­æ–‡è®­ç»ƒéœ€è¦ç”¨çš„åˆ†è¯ï¼Œå¯ä»¥ç”¨"),t("code",[s._v("jieba")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jieba\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_2-2-è®­ç»ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-è®­ç»ƒ"}},[s._v("#")]),s._v(" 2.2. è®­ç»ƒ")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("ä¸»è¦æ¨¡å‹å‚æ•°")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("å‚æ•°")]),s._v(" "),t("th",[s._v("é»˜è®¤å€¼")]),s._v(" "),t("th",[s._v("åŠŸèƒ½")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("sentences")]),s._v(" "),t("td"),s._v(" "),t("td",[s._v("è¯­æ–™ï¼ˆå¿…è¦å‚æ•°ï¼‰")])]),s._v(" "),t("tr",[t("td",[s._v("vector_size")]),s._v(" "),t("td",[s._v("100")]),s._v(" "),t("td",[s._v("è¯å‘é‡ç»´åº¦")])]),s._v(" "),t("tr",[t("td",[s._v("window")]),s._v(" "),t("td",[s._v("5")]),s._v(" "),t("td",[s._v("è¯å‘é‡ä¸Šä¸‹æ–‡çš„æœ€å¤§è·ç¦»")])]),s._v(" "),t("tr",[t("td",[s._v("sg")]),s._v(" "),t("td",[s._v("0")]),s._v(" "),t("td",[s._v("é€‰æ‹©æ¨¡å‹ï¼š0-CBOW,1-ShipGram")])])])])]),s._v(" "),t("li",[t("p",[s._v("è®­ç»ƒç¤ºä¾‹ï¼Œ"),t("a",{attrs:{href:"../files/in_the_name_of_people_segment.txt",target:"_blank"}},[s._v("wenjian")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" logging\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" os\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" gensim"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" word2vec\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¾ç¤ºè®­ç»ƒä¿¡æ¯")]),s._v("\nlogging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("basicConfig"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%(asctime)s : %(levelname)s : %(message)s'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" level"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("logging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("INFO"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¯»å–è®­ç»ƒè¯­æ–™ï¼ˆä¸­æ–‡åˆ†è¯ç»“æœï¼‰")]),s._v("\nsentences "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" word2vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineSentence"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./in_the_name_of_people_segment.txt'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®­ç»ƒ")]),s._v("\nmodel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" word2vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Word2Vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sentences"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" vector_size"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" min_count"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿å­˜æ¨¡å‹")]),s._v("\nmodel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w2v.model'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_2-3-ä½¿ç”¨æ¨¡å‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ä½¿ç”¨æ¨¡å‹"}},[s._v("#")]),s._v(" 2.3. ä½¿ç”¨æ¨¡å‹")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("æ‰¾å‡ºæŸä¸ªè¯å‘é‡æœ€ç›¸è¿‘çš„è¯é›†åˆ")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åŠ è½½æ¨¡å‹")]),s._v("\nmodel2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" word2vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Word2Vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w2v.model'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç›¸è¿‘è¯ä¸ªæ•°")]),s._v("\nreq_count "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" key "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" model2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("similar_by_word"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æè¾¾åº·'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" topn"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("len")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        req_count "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" req_count "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("çœ‹ä¸¤ä¸ªè¯çš„ç›¸è¿‘ç¨‹åº¦")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åŠ è½½æ¨¡å‹")]),s._v("\nmodel2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" word2vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Word2Vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w2v.model'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("model2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("similarity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'æè¾¾åº·'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'å´æ…§èŠ¬'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("æ‰¾å‡ºä¸åŒç±»çš„è¯")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åŠ è½½æ¨¡å‹")]),s._v("\nmodel2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" word2vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Word2Vec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w2v.model'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("model2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("wv"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("doesnt_match"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"æ²™ç‘é‡‘ é«˜è‚²è‰¯ æè¾¾åº· åˆ˜åº†ç¥"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"_3-å‚è€ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å‚è€ƒ"}},[s._v("#")]),s._v(" 3. å‚è€ƒ")]),s._v(" "),t("ul",[t("li",[s._v("åˆ˜å»ºå¹³ "),t("a",{attrs:{href:"https://www.cnblogs.com/pinard/p/7278324.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç”¨ gensim å­¦ä¹  word2vecğŸ”—"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);